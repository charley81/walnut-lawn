---
// Server-side component logic (runs at build time)
const navLinks = [
  { name: 'About', href: '#about' },
  { name: 'Services', href: '#services' },
  { name: 'Our Work', href: '#our-work' },
  { name: 'FAQ', href: '#faq' },
  { name: 'Reviews', href: '#reviews' },
  { name: 'Contact', href: '#contact' },
]
---

<nav class="bg-[#022C22]/22 backdrop-blur-sm">
  <div class="container mx-auto px-4 py-4">
    <div class="flex items-center justify-between">
      <!-- Logo -->
      <div class="flex items-center gap-2">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="32"
          height="32"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="text-emerald-500"
        >
          <path
            d="M2 22c1.25-.987 2.27-1.975 3.9-2.2a5.56 5.56 0 0 1 3.8 1.5 4 4 0 0 0 6.187-2.353 3.5 3.5 0 0 0 3.69-5.116A3.5 3.5 0 0 0 20.95 8 3.5 3.5 0 1 0 16 3.05a3.5 3.5 0 0 0-5.831 1.373 3.5 3.5 0 0 0-5.116 3.69 4 4 0 0 0-2.348 6.155C3.499 15.42 4.409 16.712 4.2 18.1 3.926 19.743 3.014 20.732 2 22"
          ></path>
          <path d="M2 22 17 7"></path>
        </svg>
        <span class="text-xl font-semibold text-white">Walnut Creek</span>
      </div>

      <!-- Desktop Navigation -->
      <div class="hidden items-center gap-8 lg:flex">
        {
          navLinks.map((link) => (
            <a
              href={link.href}
              class="text-white transition-colors hover:text-emerald-300"
            >
              {link.name}
            </a>
          ))
        }
        <button
          class="rounded-md bg-emerald-50 px-4 py-2 text-sm font-medium text-emerald-950 transition-colors hover:bg-emerald-100"
        >
          Free Estimate
        </button>
      </div>

      <!-- Mobile Menu Button -->
      <button
        id="mobile-menu-button"
        class="text-white lg:hidden"
        aria-label="Open menu"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <line x1="4" x2="20" y1="12" y2="12"></line>
          <line x1="4" x2="20" y1="6" y2="6"></line>
          <line x1="4" x2="20" y1="18" y2="18"></line>
        </svg>
      </button>
    </div>
  </div>
</nav>

<!-- Mobile Menu Overlay -->
<div
  id="mobile-overlay"
  class="pointer-events-none fixed inset-0 z-50 bg-black/50 opacity-0 transition-opacity duration-300 lg:hidden"
>
</div>

<!-- Mobile Menu -->
<div
  id="mobile-menu"
  class="fixed top-0 right-0 z-50 h-full w-80 translate-x-full bg-[#022C22] shadow-xl transition-transform duration-300 ease-in-out lg:hidden"
>
  <div class="flex h-full flex-col">
    <!-- Mobile Menu Header -->
    <div class="flex items-center justify-between border-b border-white/10 p-6">
      <div class="flex items-center gap-2">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="text-emerald-500"
        >
          <path
            d="M2 22c1.25-.987 2.27-1.975 3.9-2.2a5.56 5.56 0 0 1 3.8 1.5 4 4 0 0 0 6.187-2.353 3.5 3.5 0 0 0 3.69-5.116A3.5 3.5 0 0 0 20.95 8 3.5 3.5 0 1 0 16 3.05a3.5 3.5 0 0 0-5.831 1.373 3.5 3.5 0 0 0-5.116 3.69 4 4 0 0 0-2.348 6.155C3.499 15.42 4.409 16.712 4.2 18.1 3.926 19.743 3.014 20.732 2 22"
          ></path>
          <path d="M2 22 17 7"></path>
        </svg>
        <span class="text-lg font-semibold text-white">Walnut Creek</span>
      </div>
      <button
        id="mobile-close-button"
        class="text-white"
        aria-label="Close menu"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M18 6 6 18"></path>
          <path d="m6 6 12 12"></path>
        </svg>
      </button>
    </div>

    <!-- Mobile Menu Links -->
    <div class="flex flex-col gap-1 p-6">
      {
        navLinks.map((link) => (
          <a
            href={link.href}
            class="mobile-nav-link rounded-lg px-4 py-3 text-white transition-colors hover:bg-white/10"
          >
            {link.name}
          </a>
        ))
      }
    </div>

    <!-- Mobile Menu Contact Info -->
    <div class="mt-auto border-t border-white/10 p-6">
      <div class="mb-4 flex items-center gap-3 text-white">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="text-emerald-500"
        >
          <path
            d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"
          ></path>
        </svg>
        <a href="tel:+1234567890" class="hover:text-emerald-300">
          (123) 456-7890
        </a>
      </div>
      <div class="mb-6 flex items-center gap-3 text-white">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="text-emerald-500"
        >
          <rect width="20" height="16" x="2" y="4" rx="2"></rect>
          <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
        </svg>
        <a href="mailto:info@walnutcreek.com" class="hover:text-emerald-300">
          info@walnutcreek.com
        </a>
      </div>
      <button
        class="w-full rounded-md bg-emerald-50 px-4 py-2 text-sm font-medium text-emerald-950 transition-colors hover:bg-emerald-100"
      >
        Free Estimate
      </button>
    </div>
  </div>
</div>

<script>
  // Client-side JavaScript for mobile menu interactivity
  const mobileMenuButton = document.getElementById('mobile-menu-button')
  const mobileCloseButton = document.getElementById('mobile-close-button')
  const mobileMenu = document.getElementById('mobile-menu')
  const mobileOverlay = document.getElementById('mobile-overlay')
  const mobileNavLinks = document.querySelectorAll('.mobile-nav-link')

  function openMenu() {
    mobileMenu?.classList.remove('translate-x-full')
    mobileOverlay?.classList.remove('opacity-0', 'pointer-events-none')
    document.body.style.overflow = 'hidden'
  }

  function closeMenu() {
    mobileMenu?.classList.add('translate-x-full')
    mobileOverlay?.classList.add('opacity-0', 'pointer-events-none')
    document.body.style.overflow = ''
  }

  mobileMenuButton?.addEventListener('click', openMenu)
  mobileCloseButton?.addEventListener('click', closeMenu)
  mobileOverlay?.addEventListener('click', closeMenu)

  // Close menu when clicking on navigation links
  mobileNavLinks.forEach((link) => {
    link.addEventListener('click', closeMenu)
  })
</script>
